<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>DevSuite - Port Scanner & Server Manager</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .badge{padding:.2rem .5rem;border-radius:9999px;font-size:.75rem}
    .badge-blue{background:#0a3d62;color:#4fc3f7;border:1px solid #4fc3f7}
    .badge-green{background:#1b5e20;color:#69f0ae;border:1px solid #69f0ae}
    .badge-gray{background:#37474f;color:#b0bec5;border:1px solid #b0bec5}
    .badge-purple{background:#4a148c;color:#ea80fc;border:1px solid #ea80fc}
    .badge-orange{background:#e65100;color:#ffd54f;border:1px solid #ffd54f}
    .spin{animation: spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}
    .neon-glow{text-shadow:0 0 10px currentColor,0 0 20px currentColor,0 0 30px currentColor}
    .terminal-border{border:1px solid #00e5ff;box-shadow:0 0 15px #00e5ff}
    .field{display:flex;gap:.5rem;align-items:center}
    .label{min-width:9rem}
    .kbd{padding:.1rem .4rem;border:1px solid #777;border-radius:.25rem;font-size:.75rem}
    .project-card{transition:all 0.3s ease;border:2px solid transparent}
    .project-card:hover{transform:translateY(-5px);border-color:#00e5ff;box-shadow:0 10px 25px rgba(0,229,255,0.3)}
    .counter-animation{animation: countUp 2s ease-out}
    @keyframes countUp{from{transform:scale(1.2); opacity:0}to{transform:scale(1); opacity:1}}
    .progress-bar{transition:width 1s ease-in-out}
    .pulse{animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.7}}
    .celebrate{animation:celebrate 0.5s ease-in-out}@keyframes celebrate{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
    .stats-card{transition:all 0.3s ease; border:2px solid transparent; background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);}
    .stats-card:hover{transform:translateY(-3px); border-color:#00e5ff; box-shadow:0 8px 25px rgba(0,229,255,0.2)}
    .gradient-border{position:relative; background:linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); padding:1px; border-radius:12px}
    .gradient-border::before{content:''; position:absolute; inset:0; border-radius:12px; padding:2px; background:linear-gradient(135deg, #00e5ff 0%, #0099cc 50%, #0066cc 100%); mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0); mask-composite:xor; -webkit-mask-composite:xor; pointer-events:none}
    .floating{animation:floating 3s ease-in-out infinite}@keyframes floating{0%,100%{transform:translateY(0px)}50%{transform:translateY(-10px)}}
    .type-bar{transition:width 1.5s ease-in-out; border-radius:4px}
    .tab-button{@apply px-4 py-2 border-b-2 border-transparent hover:border-cyan-400 transition-all;}
    .tab-button.active{@apply border-cyan-400 text-cyan-400;}
    .loading{opacity:0.6; pointer-events:none}
  </style>
</head>
<body class="bg-black text-white min-h-screen font-mono">
  <div class="max-w-7xl mx-auto p-4 md:p-8">
    <!-- Header -->
    <header class="mb-8 text-center">
      <h1 class="text-4xl font-bold text-cyan-400 neon-glow mb-2">ğŸš€ DevSuite</h1>
      <p class="text-green-400 text-lg">Port Scanner & Server Manager</p>
      <p class="text-gray-400 text-sm mt-2">Complete development environment management</p>
      <div class="mt-4 flex justify-center gap-4 flex-wrap">
        <span class="bg-purple-600 px-3 py-1 rounded-full text-sm">ğŸ” Real Port Scanning</span>
        <span class="bg-green-600 px-3 py-1 rounded-full text-sm">ğŸš€ 4 Project Types</span>
        <span class="bg-blue-600 px-3 py-1 rounded-full text-sm">âš¡ Batch Automation</span>
        <span class="bg-cyan-600 px-3 py-1 rounded-full text-sm">ğŸ¯ Multi-Server</span>
      </div>
    </header>

    <!-- Quick Start Section -->
    <section class="gradient-border mb-8">
      <div class="bg-gray-900 rounded-xl p-6">
        <h2 class="text-2xl font-bold text-cyan-400 neon-glow mb-4 text-center">ğŸ¯ Get Started in 60 Seconds</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="text-center p-4">
            <div class="text-3xl mb-3">1</div>
            <h3 class="text-green-400 font-semibold mb-2">Scan Your System</h3>
            <p class="text-gray-400 text-sm">Discover active ports and processes with real system scanning</p>
            <button onclick="showTab('scanner')" class="mt-3 px-4 py-2 bg-green-600 rounded-lg hover:bg-green-700 transition-all text-sm">
              Start Scanning
            </button>
          </div>
          <div class="text-center p-4">
            <div class="text-3xl mb-3">2</div>
            <h3 class="text-blue-400 font-semibold mb-2">Create Projects</h3>
            <p class="text-gray-400 text-sm">Generate complete project structures with automated scripts</p>
            <button onclick="showTab('projects')" class="mt-3 px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition-all text-sm">
              Create Project
            </button>
          </div>
          <div class="text-center p-4">
            <div class="text-3xl mb-3">3</div>
            <h3 class="text-purple-400 font-semibold mb-2">Launch Servers</h3>
            <p class="text-gray-400 text-sm">Start multiple servers and manage everything in one place</p>
            <button onclick="showTab('servers')" class="mt-3 px-4 py-2 bg-purple-600 rounded-lg hover:bg-purple-700 transition-all text-sm">
              Manage Servers
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Main Navigation Tabs -->
    <div class="flex border-b border-cyan-800 mb-6 overflow-x-auto">
      <button class="tab-button active whitespace-nowrap" data-tab="scanner">ğŸ” Port Scanner</button>
      <button class="tab-button whitespace-nowrap" data-tab="projects">ğŸ› ï¸ Project Creator</button>
      <button class="tab-button whitespace-nowrap" data-tab="servers">ğŸš€ Server Manager</button>
      <button class="tab-button whitespace-nowrap" data-tab="quick">âš¡ Quick Launcher</button>
      <button class="tab-button whitespace-nowrap" data-tab="system">ğŸ“Š System Monitor</button>
    </div>

    <!-- Error Display -->
    <div id="error" class="hidden mb-4 p-3 terminal-border bg-gray-900 text-red-400 rounded"></div>

    <!-- Success Message -->
    <div id="success" class="hidden mb-4 p-3 terminal-border bg-green-900 text-green-400 rounded"></div>

    <!-- Tab 1: Port Scanner -->
    <div id="tab-scanner" class="tab-content">
      <section class="bg-gray-900 rounded-xl terminal-border p-6 mb-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-green-400 neon-glow">
            ğŸ” REAL-TIME PORT SCANNER
          </div>
          <div class="text-xs text-cyan-400">
            Powered by Backend API â€¢ Live system monitoring
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Scan Range</label>
            <select id="scan-range" class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
              <option value="common">Common Ports (1-1024)</option>
              <option value="extended">Extended (1-10000)</option>
              <option value="all">All Ports (1-65535)</option>
            </select>
          </div>
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Scan Type</label>
            <select id="scan-type" class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
              <option value="tcp">TCP Ports</option>
              <option value="udp">UDP Ports</option>
              <option value="both">Both TCP & UDP</option>
            </select>
          </div>
          <div class="flex items-end">
            <button id="btn-scan" class="w-full px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 text-white font-bold rounded-lg hover:from-green-700 hover:to-blue-700 transition-all">
              ğŸš€ START SCAN
            </button>
          </div>
        </div>

        <!-- Scan Progress -->
        <div id="scan-progress" class="hidden mb-4">
          <div class="flex items-center justify-between text-sm text-cyan-400 mb-2">
            <span>Scanning ports...</span>
            <span id="scan-progress-text">0%</span>
          </div>
          <div class="w-full bg-gray-800 rounded-full h-2">
            <div id="scan-progress-bar" class="bg-cyan-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
          </div>
        </div>

        <!-- Active Ports Table -->
        <div class="overflow-x-auto mt-6">
          <table class="w-full text-sm">
            <thead class="bg-gray-800 text-cyan-400">
              <tr>
                <th class="text-left p-3">Port</th>
                <th class="text-left p-3">Protocol</th>
                <th class="text-left p-3">Process</th>
                <th class="text-left p-3">PID</th>
                <th class="text-left p-3">Status</th>
                <th class="text-right p-3">Actions</th>
              </tr>
            </thead>
            <tbody id="ports-table-body">
              <tr>
                <td colspan="6" class="text-center py-8 text-gray-500">
                  No port scan performed yet. Click "START SCAN" to discover active ports.
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>
    </div>

    <!-- Tab 2: Project Creator -->
    <div id="tab-projects" class="tab-content hidden">
      <!-- Project Type Selection -->
      <section class="bg-gray-900 rounded-xl terminal-border p-6 mb-6">
        <div class="flex items-center justify-between mb-6">
          <div class="flex items-center gap-2 font-semibold text-purple-400 neon-glow text-xl">
            ğŸ¯ SELECT PROJECT TYPE
          </div>
          <div class="text-sm text-cyan-400">
            Complete project templates with automated setup
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
          <!-- Static Website Card -->
          <div class="project-card bg-gray-800 rounded-xl p-6 cursor-pointer" data-type="static">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">ğŸ</div>
              <h3 class="text-lg font-bold text-green-400">Static Website</h3>
              <p class="text-sm text-gray-400 mt-1">HTML/CSS/JavaScript</p>
            </div>
            <div class="space-y-2 text-sm">
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Python HTTP Server</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Folder structure</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Auto-browser launch</span>
              </div>
            </div>
            <button onclick="selectProjectType('static')" class="w-full mt-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-all">
              Select Template
            </button>
          </div>

          <!-- Node.js App Card -->
          <div class="project-card bg-gray-800 rounded-xl p-6 cursor-pointer" data-type="node">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">âš¡</div>
              <h3 class="text-lg font-bold text-blue-400">Node.js Application</h3>
              <p class="text-sm text-gray-400 mt-1">Express.js Server</p>
            </div>
            <div class="space-y-2 text-sm">
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Express.js setup</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Public folder</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Source structure</span>
              </div>
            </div>
            <button onclick="selectProjectType('node')" class="w-full mt-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-all">
              Select Template
            </button>
          </div>

          <!-- Python Flask Card -->
          <div class="project-card bg-gray-800 rounded-xl p-6 cursor-pointer" data-type="python">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">ğŸŒ¶ï¸</div>
              <h3 class="text-lg font-bold text-orange-400">Python Flask</h3>
              <p class="text-sm text-gray-400 mt-1">Flask Application</p>
            </div>
            <div class="space-y-2 text-sm">
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Flask framework</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Templates & Static</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Production ready</span>
              </div>
            </div>
            <button onclick="selectProjectType('python')" class="w-full mt-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-all">
              Select Template
            </button>
          </div>

          <!-- PHP Website Card -->
          <div class="project-card bg-gray-800 rounded-xl p-6 cursor-pointer" data-type="php">
            <div class="text-center mb-4">
              <div class="text-4xl mb-2">ğŸ˜</div>
              <h3 class="text-lg font-bold text-purple-400">PHP Website</h3>
              <p class="text-sm text-gray-400 mt-1">PHP Built-in Server</p>
            </div>
            <div class="space-y-2 text-sm">
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>PHP built-in server</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Includes folder</span>
              </div>
              <div class="flex items-center gap-2">
                <span class="text-green-400">âœ“</span>
                <span>Uploads ready</span>
              </div>
            </div>
            <button onclick="selectProjectType('php')" class="w-full mt-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-all">
              Select Template
            </button>
          </div>
        </div>
      </section>

      <!-- Batch File Generator Section -->
      <div id="batch-generator" class="bg-gray-900 rounded-xl terminal-border p-6 mb-6 hidden">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-purple-400 neon-glow">
            ğŸ“ GENERATE PROJECT .BAT FILE
          </div>
          <button onclick="showProjectSelection()" class="px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600">
            â† Back to Selection
          </button>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Project Configuration -->
          <div class="space-y-4">
            <h3 class="text-cyan-400 font-semibold">ğŸ“‹ PROJECT CONFIGURATION</h3>
            
            <div>
              <label class="block text-cyan-400 text-sm mb-2">Project Name</label>
              <input type="text" id="project-name" placeholder="MyAwesomeProject" 
                     class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
            </div>

            <div>
              <label class="block text-cyan-400 text-sm mb-2">Project Location</label>
              <div class="flex gap-2">
                <input type="text" id="project-location" 
                       value="C:\Users\Jo\OneDrive\Documents\Servidor de Pruebas de Proyectos"
                       class="flex-1 p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
                <button onclick="browseProjectLocation()" class="px-4 py-3 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-all">
                  ğŸ“
                </button>
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4">
              <div>
                <label class="block text-cyan-400 text-sm mb-2">Port Number</label>
                <input type="number" id="project-port" placeholder="5000" value="5000" min="1" max="65535"
                       class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
              </div>
              <div>
                <label class="block text-cyan-400 text-sm mb-2">Main File</label>
                <input type="text" id="project-mainfile" placeholder="index.html" value="index.html"
                       class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
              </div>
            </div>

            <div>
              <label class="block text-cyan-400 text-sm mb-2">Project Type</label>
              <select id="project-type" class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
                <option value="static">ğŸ Static Website</option>
                <option value="node">âš¡ Node.js Application</option>
                <option value="python">ğŸŒ¶ï¸ Python Flask</option>
                <option value="php">ğŸ˜ PHP Website</option>
              </select>
            </div>

            <div class="bg-gray-800 p-4 rounded-lg">
              <h4 class="text-cyan-400 text-sm mb-3">âš™ï¸ OPTIONS</h4>
              <div class="space-y-2">
                <label class="flex items-center gap-2">
                  <input type="checkbox" id="auto-open-browser" checked class="rounded">
                  <span class="text-green-400">Auto-open browser after startup</span>
                </label>
                <label class="flex items-center gap-2">
                  <input type="checkbox" id="create-folders" checked class="rounded">
                  <span class="text-blue-400">Create folder structure in script</span>
                </label>
                <label class="flex items-center gap-2">
                  <input type="checkbox" id="sample-content" checked class="rounded">
                  <span class="text-purple-400">Include sample file comments</span>
                </label>
              </div>
            </div>
          </div>

          <!-- Preview & Actions -->
          <div class="space-y-4">
            <h3 class="text-cyan-400 font-semibold">ğŸ‘ï¸ PROJECT PREVIEW</h3>
            
            <div class="bg-gray-800 p-4 rounded-lg h-48 overflow-y-auto">
              <div id="project-preview" class="text-sm font-mono text-green-400">
                <div class="text-gray-400">Configure your project to see preview...</div>
              </div>
            </div>

            <div class="bg-yellow-900 border-l-4 border-yellow-500 p-3 rounded">
              <div class="text-yellow-200 text-sm">
                <span class="font-bold">ğŸ’¡ What you'll get:</span><br>
                â€¢ Complete batch file for your server<br>
                â€¢ Folder structure creation commands<br>
                â€¢ Auto-browser launch configuration<br>
                â€¢ Professional server management
              </div>
            </div>

            <div class="grid grid-cols-2 gap-4 mt-4">
              <button id="btn-create-project" class="py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all">
                ğŸš€ CREATE .BAT FILE
              </button>
              <button id="btn-create-project-bat" class="py-3 bg-gradient-to-r from-purple-600 to-cyan-600 text-white font-bold rounded-lg hover:from-purple-700 hover:to-cyan-700 transition-all">
                ğŸ“ + FOLDERS
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tab 3: Server Manager -->
    <div id="tab-servers" class="tab-content hidden">
      <section class="bg-gray-900 rounded-xl terminal-border p-6 mb-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-orange-400 neon-glow">
            ğŸš€ SERVER MANAGEMENT
          </div>
          <div class="text-xs text-cyan-400">
            Launch and manage local development servers
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Server Name</label>
            <input type="text" id="server-name" placeholder="My API Server" 
                   class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
          </div>
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Working Directory</label>
            <input type="text" id="server-cwd" placeholder="C:\projects\my-app" 
                   class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Port Number</label>
            <input type="number" id="server-port" placeholder="3000" 
                   class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
          </div>
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Server Type</label>
            <select id="server-template" class="w-full p-3 bg-gray-800 border border-cyan-500 text-white rounded-lg focus:outline-none focus:border-cyan-300">
              <option value="py-http">Python HTTP Server</option>
              <option value="node-index">Node.js Server</option>
              <option value="gunicorn-app">Gunicorn App</option>
              <option value="php-server">PHP Server</option>
            </select>
          </div>
          <div class="flex items-end">
            <button id="btn-launch" class="w-full px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 text-white font-bold rounded-lg hover:from-orange-700 hover:to-red-700 transition-all">
              ğŸš€ LAUNCH SERVER
            </button>
          </div>
        </div>

        <!-- Running Servers -->
        <div class="mt-6">
          <h4 class="text-cyan-400 font-semibold mb-3">ğŸƒâ€â™‚ï¸ RUNNING SERVERS</h4>
          <div id="running-servers" class="space-y-2">
            <div class="text-center py-4 text-gray-500">
              No servers running. Launch a server to see it here.
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Tab 4: Quick Launcher -->
    <div id="tab-quick" class="tab-content hidden">
      <!-- Quick Server Launcher Section -->
      <section class="bg-gray-900 rounded-xl terminal-border p-6 mb-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-purple-400 neon-glow">
            âš¡ QUICK SERVER LAUNCHER
          </div>
          <div class="text-xs text-cyan-400">
            One-click server startup with browser auto-launch
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
          <!-- Static Server -->
          <div class="bg-gray-800 rounded-lg p-4 border border-green-500">
            <div class="text-center mb-3">
              <div class="text-3xl mb-2">ğŸ</div>
              <h3 class="font-bold text-green-400">Static Server</h3>
              <p class="text-xs text-gray-400">Python HTTP Server</p>
            </div>
            <div class="space-y-2 mb-4">
              <div>
                <label class="text-xs text-cyan-400">Port</label>
                <input type="number" id="quick-static-port" value="8000" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
              <div>
                <label class="text-xs text-cyan-400">Directory</label>
                <input type="text" id="quick-static-dir" value="." class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
            </div>
            <button onclick="launchQuickServer('static')" class="w-full py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-all text-sm">
              ğŸš€ Launch + Browser
            </button>
          </div>

          <!-- Node.js Server -->
          <div class="bg-gray-800 rounded-lg p-4 border border-blue-500">
            <div class="text-center mb-3">
              <div class="text-3xl mb-2">âš¡</div>
              <h3 class="font-bold text-blue-400">Node.js Server</h3>
              <p class="text-xs text-gray-400">Express/HTTP Server</p>
            </div>
            <div class="space-y-2 mb-4">
              <div>
                <label class="text-xs text-cyan-400">Port</label>
                <input type="number" id="quick-node-port" value="3000" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
              <div>
                <label class="text-xs text-cyan-400">App File</label>
                <input type="text" id="quick-node-file" value="app.js" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
            </div>
            <button onclick="launchQuickServer('node')" class="w-full py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-all text-sm">
              ğŸš€ Launch + Browser
            </button>
          </div>

          <!-- Python Flask Server -->
          <div class="bg-gray-800 rounded-lg p-4 border border-orange-500">
            <div class="text-center mb-3">
              <div class="text-3xl mb-2">ğŸŒ¶ï¸</div>
              <h3 class="font-bold text-orange-400">Python Flask</h3>
              <p class="text-xs text-gray-400">Flask Application</p>
            </div>
            <div class="space-y-2 mb-4">
              <div>
                <label class="text-xs text-cyan-400">Port</label>
                <input type="number" id="quick-python-port" value="5000" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
              <div>
                <label class="text-xs text-cyan-400">App File</label>
                <input type="text" id="quick-python-file" value="app.py" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
            </div>
            <button onclick="launchQuickServer('python')" class="w-full py-2 bg-orange-600 text-white rounded hover:bg-orange-700 transition-all text-sm">
              ğŸš€ Launch + Browser
            </button>
          </div>

          <!-- PHP Server -->
          <div class="bg-gray-800 rounded-lg p-4 border border-purple-500">
            <div class="text-center mb-3">
              <div class="text-3xl mb-2">ğŸ˜</div>
              <h3 class="font-bold text-purple-400">PHP Server</h3>
              <p class="text-xs text-gray-400">Built-in PHP Server</p>
            </div>
            <div class="space-y-2 mb-4">
              <div>
                <label class="text-xs text-cyan-400">Port</label>
                <input type="number" id="quick-php-port" value="8080" class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
              <div>
                <label class="text-xs text-cyan-400">Directory</label>
                <input type="text" id="quick-php-dir" value="." class="w-full p-2 bg-gray-700 text-white rounded text-sm">
              </div>
            </div>
            <button onclick="launchQuickServer('php')" class="w-full py-2 bg-purple-600 text-white rounded hover:bg-purple-700 transition-all text-sm">
              ğŸš€ Launch + Browser
            </button>
          </div>
        </div>
      </section>

      <!-- Multi-Server Batch Creator -->
      <section class="bg-gray-900 rounded-xl terminal-border p-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-cyan-400 neon-glow">
            ğŸ”„ MULTI-SERVER BATCH CREATOR
          </div>
          <div class="text-xs text-cyan-400">
            Create batch files to start multiple servers at once
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Batch File Name</label>
            <input type="text" id="multi-batch-name" value="start_all_servers" 
                   class="w-full p-2 bg-gray-700 text-white rounded">
          </div>
          <div>
            <label class="block text-cyan-400 text-sm mb-2">Open Browser Tabs</label>
            <select id="multi-batch-browser" class="w-full p-2 bg-gray-700 text-white rounded">
              <option value="yes">Yes, open all browser tabs</option>
              <option value="no">No, just start servers</option>
            </select>
          </div>
        </div>
        
        <div class="mb-4">
          <label class="block text-cyan-400 text-sm mb-2">Servers to Include:</label>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
            <label class="flex items-center gap-2">
              <input type="checkbox" id="include-static" checked class="rounded">
              <span class="text-green-400">ğŸ Static Server (Port 8000)</span>
            </label>
            <label class="flex items-center gap-2">
              <input type="checkbox" id="include-node" checked class="rounded">
              <span class="text-blue-400">âš¡ Node.js Server (Port 3000)</span>
            </label>
            <label class="flex items-center gap-2">
              <input type="checkbox" id="include-python" checked class="rounded">
              <span class="text-orange-400">ğŸŒ¶ï¸ Python Flask (Port 5000)</span>
            </label>
            <label class="flex items-center gap-2">
              <input type="checkbox" id="include-php" checked class="rounded">
              <span class="text-purple-400">ğŸ˜ PHP Server (Port 8080)</span>
            </label>
          </div>
        </div>
        
        <button onclick="createMultiServerBatch()" class="w-full py-3 bg-gradient-to-r from-purple-600 to-cyan-600 text-white font-bold rounded-lg hover:from-purple-700 hover:to-cyan-700 transition-all">
          ğŸ“¥ DOWNLOAD MULTI-SERVER BATCH FILE
        </button>
      </section>
    </div>

    <!-- Tab 5: System Monitor -->
    <div id="tab-system" class="tab-content hidden">
      <section class="bg-gray-900 rounded-xl terminal-border p-6">
        <div class="flex items-center justify-between mb-4">
          <div class="flex items-center gap-2 font-semibold text-blue-400 neon-glow">
            ğŸ“Š SYSTEM MONITOR
          </div>
          <div class="text-xs text-cyan-400">
            Real-time system performance metrics
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
          <div class="stats-card rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <div class="text-xl">ğŸ’»</div>
              <div class="bg-blue-900 px-2 py-1 rounded-full text-xs text-blue-400">
                CPU
              </div>
            </div>
            <div class="text-sm text-cyan-400 mb-1">PROCESSOR USAGE</div>
            <div class="text-2xl font-bold text-yellow-400" id="cpu-usage">0%</div>
            <div class="mt-3 bg-gray-800 rounded-full h-2">
              <div class="bg-blue-500 h-2 rounded-full progress-bar" id="cpu-bar" style="width: 0%"></div>
            </div>
          </div>

          <div class="stats-card rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <div class="text-xl">ğŸ§ </div>
              <div class="bg-purple-900 px-2 py-1 rounded-full text-xs text-purple-400">
                Memory
              </div>
            </div>
            <div class="text-sm text-cyan-400 mb-1">MEMORY USAGE</div>
            <div class="text-2xl font-bold text-yellow-400" id="memory-usage">0%</div>
            <div class="mt-3 bg-gray-800 rounded-full h-2">
              <div class="bg-purple-500 h-2 rounded-full progress-bar" id="memory-bar" style="width: 0%"></div>
            </div>
          </div>

          <div class="stats-card rounded-xl p-4">
            <div class="flex items-center justify-between mb-3">
              <div class="text-xl">ğŸ”</div>
              <div class="bg-green-900 px-2 py-1 rounded-full text-xs text-green-400">
                Network
              </div>
            </div>
            <div class="text-sm text-cyan-400 mb-1">ACTIVE PORTS</div>
            <div class="text-2xl font-bold text-yellow-400" id="active-ports-count">0</div>
            <div class="text-xs text-gray-400 mt-2">TCP connections</div>
          </div>
        </div>

        <button onclick="refreshSystemStats()" class="w-full px-6 py-3 bg-gradient-to-r from-cyan-600 to-blue-600 text-white font-bold rounded-lg hover:from-cyan-700 hover:to-blue-700 transition-all">
          ğŸ”„ REFRESH STATS
        </button>
      </section>
    </div>

    <!-- Download Success Message -->
    <div id="download-success" class="hidden bg-green-900 rounded-xl terminal-border p-6 mb-6">
      <div class="flex items-center justify-between">
        <h3 class="text-green-400 font-semibold text-lg">âœ… BATCH FILE DOWNLOADED!</h3>
        <button onclick="closeSuccess()" class="px-4 py-2 bg-green-700 text-white rounded hover:bg-green-600">Close</button>
      </div>
      <div class="mt-4 text-sm text-cyan-400">
        <p>ğŸ“ File: <span id="download-filename" class="text-yellow-400">start_server.bat</span></p>
        <p>ğŸ“ Save it in your project directory and double-click to run!</p>
        <div class="mt-3 p-3 bg-green-800 rounded-lg">
          <p class="text-yellow-300 text-sm">ğŸš€ <b>What happens when you run it:</b></p>
          <ul class="text-cyan-300 text-sm mt-2 list-disc list-inside">
            <li>Starts your chosen server type automatically</li>
            <li>Creates folder structure (if enabled)</li>
            <li>Opens browser to your local development server</li>
            <li>Shows real-time server status in command window</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="mt-8 text-xs text-center text-gray-500">
      DevSuite â€¢ Professional Developer Tools â€¢ 
      <a href="#" class="text-cyan-400 hover:text-cyan-300">Backend: Real System Integration</a> â€¢ 
      <a href="#" class="text-blue-400 hover:text-blue-300">Frontend: Modern Web Stack</a>
    </div>
  </div>

  <!-- JavaScript -->
  <script>
    // ============ CONFIGURATION ============
    const BACKEND_URL = 'http://localhost:5502'; // Update with your backend URL

    // ============ TAB MANAGEMENT ============
    function showTab(tabName) {
      document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.add('hidden');
      });
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      document.getElementById(`tab-${tabName}`).classList.remove('hidden');
      document.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
    }

    document.querySelectorAll('.tab-button').forEach(button => {
      button.addEventListener('click', function() {
        showTab(this.dataset.tab);
      });
    });

    // ============ UTILITY FUNCTIONS ============
    const errBox = document.getElementById("error");
    const successBox = document.getElementById("success");
    
    function showError(msg){ 
        errBox.innerHTML = msg; 
        errBox.classList.remove("hidden"); 
        setTimeout(() => errBox.classList.add("hidden"), 5000);
    }
    
    function showSuccess(msg){ 
        successBox.innerHTML = msg; 
        successBox.classList.remove("hidden"); 
        setTimeout(() => successBox.classList.add("hidden"), 5000);
    }

    function downloadBatchFile(content, filename) {
        const blob = new Blob([content], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        a.style.display = 'none';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        setTimeout(() => URL.revokeObjectURL(url), 100);
    }

    function closeSuccess() {
      document.getElementById('download-success').classList.add('hidden');
    }

    function browseProjectLocation() {
      const currentLocation = document.getElementById('project-location').value;
      const newLocation = prompt('Enter project location:', currentLocation);
      if (newLocation) {
        document.getElementById('project-location').value = newLocation;
        updateProjectPreview();
      }
    }

    // ============ BACKEND API FUNCTIONS ============
    async function apiCall(endpoint, method = 'GET', data = null) {
      try {
        const options = {
          method: method,
          headers: {
            'Content-Type': 'application/json',
          },
        };
        
        if (data) {
          options.body = JSON.stringify(data);
        }
        
        const response = await fetch(`${BACKEND_URL}${endpoint}`, options);
        
        if (!response.ok) {
          throw new Error(`HTTP error! status: ${response.status}`);
        }
        
        return await response.json();
      } catch (error) {
        console.error('API call failed:', error);
        showError(`Backend connection failed: ${error.message}`);
        throw error;
      }
    }

    // ============ PROJECT CREATOR ============
    function selectProjectType(type) {
      document.getElementById('project-type').value = type;
      
      const typeNames = {
        static: 'MyStaticSite',
        node: 'MyNodeApp', 
        python: 'MyPythonApp',
        php: 'MyPHPSite'
      };
      
      document.getElementById('project-name').value = typeNames[type];
      document.querySelector('.bg-gray-900.rounded-xl.terminal-border.p-6.mb-6').classList.add('hidden');
      document.getElementById('batch-generator').classList.remove('hidden');
      
      updateProjectPreview();
    }

    function showProjectSelection() {
      document.getElementById('batch-generator').classList.add('hidden');
      document.querySelector('.bg-gray-900.rounded-xl.terminal-border.p-6.mb-6').classList.remove('hidden');
    }

    function updateProjectPreview() {
      const projectName = document.getElementById('project-name').value || 'MyProject';
      const projectLocation = document.getElementById('project-location').value;
      const projectType = document.getElementById('project-type').value;
      const port = document.getElementById('project-port').value || '5000';
      const mainFile = document.getElementById('project-mainfile').value || 'index.html';
      
      const fullPath = `${projectLocation}\\${projectName}`;
      
      const preview = document.getElementById('project-preview');
      const structureTemplates = {
        static: `ğŸ“ ${projectName}/
  â”œâ”€â”€ ğŸ“„ ${mainFile}
  â”œâ”€â”€ ğŸ¨ css/
  â”‚   â””â”€â”€ style.css
  â”œâ”€â”€ âš¡ js/
  â”‚   â””â”€â”€ script.js
  â”œâ”€â”€ ğŸ–¼ï¸ images/
  â””â”€â”€ ğŸ”§ start_server.bat
          
ğŸŒ http://localhost:${port}`,

        node: `ğŸ“ ${projectName}/
  â”œâ”€â”€ ğŸ“¦ package.json
  â”œâ”€â”€ ğŸ–¥ï¸ server.js
  â”œâ”€â”€ ğŸŒ public/
  â”‚   â”œâ”€â”€ ${mainFile}
  â”‚   â”œâ”€â”€ css/style.css
  â”‚   â””â”€â”€ js/app.js
  â”œâ”€â”€ ğŸ“Š src/
  â”‚   â””â”€â”€ routes.js
  â””â”€â”€ ğŸ”§ start_server.bat
          
ğŸŒ http://localhost:${port}`,

        python: `ğŸ“ ${projectName}/
  â”œâ”€â”€ ğŸ app.py
  â”œâ”€â”€ ğŸ“‹ requirements.txt
  â”œâ”€â”€ ğŸ¨ templates/
  â”‚   â””â”€â”€ ${mainFile}
  â”œâ”€â”€ ğŸ¨ static/
  â”‚   â”œâ”€â”€ css/style.css
  â”‚   â””â”€â”€ js/script.js
  â”œâ”€â”€ âš™ï¸ config.py
  â””â”€â”€ ğŸ”§ start_server.bat
          
ğŸŒ http://localhost:${port}`,

        php: `ğŸ“ ${projectName}/
  â”œâ”€â”€ ğŸ“„ ${mainFile}
  â”œâ”€â”€ ğŸ¨ css/style.css
  â”œâ”€â”€ âš¡ js/script.js
  â”œâ”€â”€ ğŸ“ includes/
  â”‚   â””â”€â”€ functions.php
  â”œâ”€â”€ ğŸ“ uploads/
  â””â”€â”€ ğŸ”§ start_server.bat
          
ğŸŒ http://localhost:${port}`
      };
      
      preview.innerHTML = structureTemplates[projectType] || 'Select a project type to see preview...';
    }

    function createProjectBatchFile(includeFolders = false) {
      const name = document.getElementById('project-name').value.trim() || 'MyProject';
      const type = document.getElementById('project-type').value;
      const location = document.getElementById('project-location').value.trim();
      const port = document.getElementById('project-port').value || '5000';
      const mainFile = document.getElementById('project-mainfile').value.trim() || 'index.html';
      const openBrowser = document.getElementById('auto-open-browser')?.checked || true;
      const createFolders = includeFolders || document.getElementById('create-folders')?.checked || false;
      const sampleContent = document.getElementById('sample-content')?.checked || false;

      if (!name) {
        showError('âŒ Please enter a project name');
        return;
      }

      if (!location) {
        showError('âŒ Please specify a project location');
        return;
      }

      const batchTemplates = {
        static: (name, location, port, mainFile, openBrowser, createFolders) => {
          let batch = `@echo off\nchcp 65001 >nul\ntitle ${name} - Static Website\ncolor 0A\n\necho ===============================\necho    Starting ${name}\necho ===============================\necho.\n`;
          
          batch += `cd /d "${location}\\${name}"\n\n`;
          
          if (createFolders) {
            batch += `echo Creating project structure...\n`;
            batch += `if not exist "css" mkdir "css"\n`;
            batch += `if not exist "js" mkdir "js"\n`;
            batch += `if not exist "images" mkdir "images"\n`;
            batch += `echo.\n`;
          }
          
          batch += `echo Starting Python HTTP Server on port ${port}...\n`;
          batch += `start "Server - ${name}" cmd /k "python -m http.server ${port}"\n`;
          
          if (openBrowser) {
            batch += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
          }
          
          batch += `echo.\necho Server started on http://localhost:${port}\n`;
          if (openBrowser) batch += `echo Browser should open automatically...\n`;
          batch += `pause`;
          
          return batch;
        },

        node: (name, location, port, mainFile, openBrowser, createFolders) => {
          let batch = `@echo off\nchcp 65001 >nul\ntitle ${name} - Node.js Server\ncolor 0B\n\necho ===============================\necho    Starting ${name}\necho ===============================\necho.\n`;
          
          batch += `cd /d "${location}\\${name}"\n\n`;
          
          if (createFolders) {
            batch += `echo Creating project structure...\n`;
            batch += `if not exist "public" mkdir "public"\n`;
            batch += `if not exist "src" mkdir "src"\n`;
            batch += `echo.\n`;
          }
          
          batch += `echo Starting Node.js Server on port ${port}...\n`;
          batch += `start "Server - ${name}" cmd /k "node server.js"\n`;
          
          if (openBrowser) {
            batch += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
          }
          
          batch += `echo.\necho Server started on http://localhost:${port}\n`;
          if (openBrowser) batch += `echo Browser should open automatically...\n`;
          batch += `pause`;
          
          return batch;
        },

        python: (name, location, port, mainFile, openBrowser, createFolders) => {
          let batch = `@echo off\nchcp 65001 >nul\ntitle ${name} - Python Flask\ncolor 0E\n\necho ===============================\necho    Starting ${name}\necho ===============================\necho.\n`;
          
          batch += `cd /d "${location}\\${name}"\n\n`;
          
          if (createFolders) {
            batch += `echo Creating project structure...\n`;
            batch += `if not exist "templates" mkdir "templates"\n`;
            batch += `if not exist "static" mkdir "static"\n`;
            batch += `if not exist "static/css" mkdir "static/css"\n`;
            batch += `if not exist "static/js" mkdir "static/js"\n`;
            batch += `echo.\n`;
          }
          
          batch += `echo Starting Python Flask on port ${port}...\n`;
          batch += `start "Server - ${name}" cmd /k "python app.py"\n`;
          
          if (openBrowser) {
            batch += `timeout /t 3 /nobreak >nul\nstart http://localhost:${port}\n`;
          }
          
          batch += `echo.\necho Server started on http://localhost:${port}\n`;
          if (openBrowser) batch += `echo Browser should open automatically...\n`;
          batch += `pause`;
          
          return batch;
        },

        php: (name, location, port, mainFile, openBrowser, createFolders) => {
          let batch = `@echo off\nchcp 65001 >nul\ntitle ${name} - PHP Server\ncolor 0D\n\necho ===============================\necho    Starting ${name}\necho ===============================\necho.\n`;
          
          batch += `cd /d "${location}\\${name}"\n\n`;
          
          if (createFolders) {
            batch += `echo Creating project structure...\n`;
            batch += `if not exist "css" mkdir "css"\n`;
            batch += `if not exist "js" mkdir "js"\n`;
            batch += `if not exist "includes" mkdir "includes"\n`;
            batch += `if not exist "uploads" mkdir "uploads"\n`;
            batch += `echo.\n`;
          }
          
          batch += `echo Starting PHP Server on port ${port}...\n`;
          batch += `start "Server - ${name}" cmd /k "php -S localhost:${port}"\n`;
          
          if (openBrowser) {
            batch += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
          }
          
          batch += `echo.\necho Server started on http://localhost:${port}\n`;
          if (openBrowser) batch += `echo Browser should open automatically...\n`;
          batch += `pause`;
          
          return batch;
        }
      };

      const batchCode = batchTemplates[type](name, location, port, mainFile, openBrowser, createFolders);
      const filename = `start_${name.replace(/\s+/g, '_').toLowerCase()}.bat`;
      
      downloadBatchFile(batchCode, filename);
      
      document.getElementById('download-filename').textContent = filename;
      document.getElementById('download-success').classList.remove('hidden');
      
      showSuccess(`âœ… Batch file "${filename}" created successfully!`);
    }

    // ============ PORT SCANNER ============
    document.getElementById('btn-scan').addEventListener('click', scanPorts);

    async function scanPorts() {
        const scanRange = document.getElementById('scan-range').value;
        const scanType = document.getElementById('scan-type').value;
        const scanButton = document.getElementById('btn-scan');
        const progressBar = document.getElementById('scan-progress');
        const progressText = document.getElementById('scan-progress-text');
        const progressBarFill = document.getElementById('scan-progress-bar');

        try {
            // Show loading state
            scanButton.classList.add('loading');
            progressBar.classList.remove('hidden');
            progressBarFill.style.width = '10%';
            progressText.textContent = '10%';

            showSuccess('ğŸš€ Starting real port scan...');

            // Call backend API
            const result = await apiCall('/scan-ports', 'POST', {
                range: scanRange,
                type: scanType
            });

            // Update progress
            progressBarFill.style.width = '100%';
            progressText.textContent = '100%';

            // Render results
            renderPorts(result.ports);
            updateSystemStats();
            showSuccess(`âœ… Scan completed! Found ${result.ports.length} active ports`);

        } catch (error) {
            showError('âŒ Port scan failed. Make sure backend is running.');
        } finally {
            // Reset UI
            scanButton.classList.remove('loading');
            setTimeout(() => {
                progressBar.classList.add('hidden');
                progressBarFill.style.width = '0%';
            }, 1000);
        }
    }

    function renderPorts(ports) {
        const tbody = document.getElementById('ports-table-body');
        tbody.innerHTML = '';
        
        if (ports.length === 0) {
            tbody.innerHTML = `
                <tr>
                    <td colspan="6" class="text-center py-8 text-gray-500">
                        No active ports found in the selected range.
                    </td>
                </tr>
            `;
            return;
        }
        
        ports.forEach(port => {
            const tr = document.createElement('tr');
            tr.className = 'border-t border-cyan-800 hover:bg-gray-800';
            tr.innerHTML = `
                <td class="p-3 font-medium text-yellow-400">${port.port}</td>
                <td class="p-3 text-cyan-400">${port.protocol}</td>
                <td class="p-3 text-green-400">${port.processName || 'Unknown'}</td>
                <td class="p-3 font-mono text-white">${port.pid || 'N/A'}</td>
                <td class="p-3">
                    <span class="px-2 py-1 rounded-full text-xs ${port.status === 'LISTENING' ? 'bg-green-900 text-green-400' : 'bg-gray-700 text-gray-400'}">
                        ${port.status || 'UNKNOWN'}
                    </span>
                </td>
                <td class="p-3 text-right">
                    ${port.pid ? `
                    <button onclick="killProcess(${port.pid}, ${port.port})" 
                            class="px-3 py-1.5 rounded border border-red-500 text-red-400 hover:bg-red-900 hover:text-white transition-all text-sm">
                        TERMINATE
                    </button>
                    ` : ''}
                </td>
            `;
            tbody.appendChild(tr);
        });
        
        document.getElementById('active-ports-count').textContent = ports.length;
    }

    async function killProcess(pid, port) {
        if (confirm(`Terminate process PID ${pid} using port ${port}?`)) {
            try {
                await apiCall('/kill-process', 'POST', { pid: pid });
                showSuccess(`âœ… Process ${pid} terminated`);
                scanPorts(); // Refresh the list
            } catch (error) {
                showError('âŒ Failed to terminate process');
            }
        }
    }

    // ============ QUICK SERVER LAUNCHER ============
    async function launchQuickServer(type) {
        let port, dir, file;
        
        switch(type) {
            case 'static':
                port = document.getElementById('quick-static-port').value || 8000;
                dir = document.getElementById('quick-static-dir').value || '.';
                break;
            case 'node':
                port = document.getElementById('quick-node-port').value || 3000;
                file = document.getElementById('quick-node-file').value || 'app.js';
                break;
            case 'python':
                port = document.getElementById('quick-python-port').value || 5000;
                file = document.getElementById('quick-python-file').value || 'app.py';
                break;
            case 'php':
                port = document.getElementById('quick-php-port').value || 8080;
                dir = document.getElementById('quick-php-dir').value || '.';
                break;
        }

        try {
            showSuccess(`ğŸš€ Starting ${type} server on port ${port}...`);
            
            await apiCall('/start-server', 'POST', {
                type: type,
                port: parseInt(port),
                directory: dir,
                file: file
            });

            showSuccess(`âœ… ${type.toUpperCase()} server started successfully on port ${port}!`);
            
            // Auto-open browser
            setTimeout(() => {
                window.open(`http://localhost:${port}`, '_blank');
            }, 1000);

        } catch (error) {
            showError(`âŒ Failed to start ${type} server: ${error.message}`);
        }
    }

    // ============ MULTI-SERVER BATCH CREATOR ============
    function createMultiServerBatch() {
        const batchName = document.getElementById('multi-batch-name').value || 'start_all_servers';
        const openBrowser = document.getElementById('multi-batch-browser').value === 'yes';
        
        let batchContent = `@echo off\nchcp 65001 >nul\ntitle Multi-Server Launcher\ncolor 0A\n\necho ===============================\necho    Starting Multiple Servers\necho ===============================\necho.\n`;
        
        if (document.getElementById('include-static').checked) {
            const port = document.getElementById('quick-static-port').value || 8000;
            const dir = document.getElementById('quick-static-dir').value || '.';
            batchContent += `echo Starting Static Server on port ${port}...\nstart "Static Server" cmd /k "cd /d ${dir} && python -m http.server ${port}"\n`;
            if (openBrowser) {
                batchContent += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
            }
        }
        
        if (document.getElementById('include-node').checked) {
            const port = document.getElementById('quick-node-port').value || 3000;
            const file = document.getElementById('quick-node-file').value || 'app.js';
            batchContent += `echo Starting Node.js Server on port ${port}...\nstart "Node.js Server" cmd /k "node ${file}"\n`;
            if (openBrowser) {
                batchContent += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
            }
        }
        
        if (document.getElementById('include-python').checked) {
            const port = document.getElementById('quick-python-port').value || 5000;
            const file = document.getElementById('quick-python-file').value || 'app.py';
            batchContent += `echo Starting Python Flask on port ${port}...\nstart "Python Flask" cmd /k "python ${file}"\n`;
            if (openBrowser) {
                batchContent += `timeout /t 3 /nobreak >nul\nstart http://localhost:${port}\n`;
            }
        }
        
        if (document.getElementById('include-php').checked) {
            const port = document.getElementById('quick-php-port').value || 8080;
            const dir = document.getElementById('quick-php-dir').value || '.';
            batchContent += `echo Starting PHP Server on port ${port}...\nstart "PHP Server" cmd /k "cd /d ${dir} && php -S localhost:${port}"\n`;
            if (openBrowser) {
                batchContent += `timeout /t 2 /nobreak >nul\nstart http://localhost:${port}\n`;
            }
        }
        
        batchContent += `\necho All servers started!\necho.\npause`;
        
        downloadBatchFile(batchContent, `${batchName}.bat`);
        showSuccess(`âœ… Multi-server batch file "${batchName}.bat" created successfully!`);
    }

    // ============ SERVER MANAGER ============
    document.getElementById('btn-launch').addEventListener('click', launchServer);

    async function launchServer() {
        const name = document.getElementById('server-name').value.trim();
        const cwd = document.getElementById('server-cwd').value.trim();
        const port = document.getElementById('server-port').value;
        const template = document.getElementById('server-template').value;

        if(!name) return showError("âŒ Server name is required");
        if(!cwd) return showError("âŒ Working directory is required");
        if(!port) return showError("âŒ Port number is required");

        try {
            showSuccess(`ğŸš€ Launching ${name} on port ${port}...`);

            await apiCall('/launch-server', 'POST', {
                name: name,
                working_directory: cwd,
                port: parseInt(port),
                template: template
            });

            showSuccess(`âœ… Server "${name}" launched successfully!`);
            addRunningServer(name, port, template);
            
        } catch (error) {
            showError(`âŒ Failed to launch server: ${error.message}`);
        }
    }

    function addRunningServer(name, port, type) {
        const container = document.getElementById('running-servers');
        
        if (container.querySelector('.text-gray-500')) {
            container.innerHTML = '';
        }
        
        const serverDiv = document.createElement('div');
        serverDiv.className = 'bg-gray-800 p-4 rounded-lg border border-green-500';
        serverDiv.innerHTML = `
            <div class="flex justify-between items-center">
                <div>
                    <h4 class="text-green-400 font-semibold">${name}</h4>
                    <p class="text-gray-400 text-sm">Port ${port} â€¢ ${type}</p>
                </div>
                <div class="flex gap-2">
                    <button class="px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700">Restart</button>
                    <button class="px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700">Stop</button>
                </div>
            </div>
        `;
        
        container.appendChild(serverDiv);
    }

    // ============ SYSTEM MONITOR ============
    async function updateSystemStats() {
        try {
            const stats = await apiCall('/system-stats');
            
            document.getElementById('cpu-usage').textContent = `${stats.cpu_usage}%`;
            document.getElementById('memory-usage').textContent = `${stats.memory_usage}%`;
            document.getElementById('cpu-bar').style.width = `${stats.cpu_usage}%`;
            document.getElementById('memory-bar').style.width = `${stats.memory_usage}%`;
            document.getElementById('active-ports-count').textContent = stats.active_ports;
            
        } catch (error) {
            console.error('Failed to fetch system stats:', error);
        }
    }

    async function refreshSystemStats() {
        showSuccess('ğŸ”„ Refreshing system statistics...');
        await updateSystemStats();
    }

    // ============ INITIALIZATION ============
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize project creator event listeners
        const projectInputs = ['project-name', 'project-type', 'project-port', 'project-mainfile'];
        projectInputs.forEach(id => {
            const element = document.getElementById(id);
            if (element) {
                element.addEventListener('input', updateProjectPreview);
            }
        });
        
        // Initialize create buttons
        const btnCreateProject = document.getElementById('btn-create-project');
        const btnCreateProjectBat = document.getElementById('btn-create-project-bat');
        
        if (btnCreateProject) {
            btnCreateProject.addEventListener('click', () => createProjectBatchFile(false));
        }
        
        if (btnCreateProjectBat) {
            btnCreateProjectBat.addEventListener('click', () => createProjectBatchFile(true));
        }
        
        updateProjectPreview();
        updateSystemStats();
        
        // Refresh stats every 10 seconds
        setInterval(updateSystemStats, 10000);
    });
  </script>
</body>
</html>
